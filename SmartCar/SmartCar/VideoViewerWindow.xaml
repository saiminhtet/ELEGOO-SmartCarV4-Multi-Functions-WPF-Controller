<Window x:Class="SmartCar.VideoViewerWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Smart Car Camera Feed"
        Height="540" Width="720"
        WindowStyle="SingleBorderWindow"
        ResizeMode="CanResize"
        Background="#1E1E1E">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="40"/>
        </Grid.RowDefinitions>

        <!-- Video Display with Sensor Overlay -->
        <Border Grid.Row="0" BorderBrush="#333" BorderThickness="1" Margin="5">
            <Grid>
                <!-- Video Image -->
                <Image x:Name="VideoImage"
                       Stretch="Uniform"
                       RenderOptions.BitmapScalingMode="LowQuality"/>

                <!-- Status Overlay -->
                <Canvas x:Name="StatusOverlay">
                    <!-- Top Left - Mode Panel -->
                    <Border Canvas.Left="10" Canvas.Top="10"
                            Background="#DD000000"
                            BorderBrush="#4EC9B0"
                            BorderThickness="2"
                            CornerRadius="8"
                            Padding="15,10">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="MODE: " Foreground="#AAA" FontSize="12" VerticalAlignment="Center"/>
                            <TextBlock x:Name="CurrentModeText" Text="0 - Manual" Foreground="#4EC9B0" FontSize="14" FontWeight="Bold" VerticalAlignment="Center"/>
                        </StackPanel>
                    </Border>

                    <!-- Top Right - WiFi Signal Panel -->
                    <Border Canvas.Right="10" Canvas.Top="10"
                            Background="#DD000000"
                            BorderBrush="#4EC9B0"
                            BorderThickness="2"
                            CornerRadius="8"
                            Padding="15,10">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock x:Name="WiFiIcon" Text="ðŸ“¶" FontSize="16" VerticalAlignment="Center" Margin="0,0,8,0"/>
                            <StackPanel>
                                <TextBlock Text="WiFi Signal" Foreground="#AAA" FontSize="10"/>
                                <TextBlock x:Name="WiFiSignalText" Text="Excellent" Foreground="#4EC9B0" FontSize="12" FontWeight="Bold"/>
                            </StackPanel>
                        </StackPanel>
                    </Border>

                    <!-- Center - Detection Alert Panel (Hidden by default) -->
                    <Border x:Name="DetectionAlertPanel" Canvas.Left="150" Canvas.Top="80"
                            Background="#DDFF0000"
                            BorderBrush="#FF0000"
                            BorderThickness="3"
                            CornerRadius="8"
                            Padding="20,15"
                            Visibility="Collapsed">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="âš " FontSize="24" Foreground="White" VerticalAlignment="Center" Margin="0,0,10,0"/>
                            <StackPanel>
                                <TextBlock x:Name="DetectionAlertTitle" Text="OBSTACLE DETECTED" Foreground="White" FontSize="16" FontWeight="Bold"/>
                                <TextBlock x:Name="DetectionAlertMessage" Text="Object ahead - Stopping" Foreground="White" FontSize="12"/>
                            </StackPanel>
                        </StackPanel>
                    </Border>

                    <!-- Bottom Left - System Info -->
                    <Border Canvas.Left="10" Canvas.Bottom="10"
                            Background="#DD000000"
                            BorderBrush="#4EC9B0"
                            BorderThickness="2"
                            CornerRadius="5"
                            Padding="10,5">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="ðŸ¤– Car Status: " Foreground="#AAA" FontSize="10" VerticalAlignment="Center"/>
                            <TextBlock x:Name="CarStatusText" Text="Ready" Foreground="#4EC9B0" FontSize="10" FontWeight="Bold" VerticalAlignment="Center"/>
                        </StackPanel>
                    </Border>
                </Canvas>
            </Grid>
        </Border>

        <!-- Status Bar -->
        <Border Grid.Row="1" Background="#252526" BorderBrush="#333" BorderThickness="0,1,0,0">
            <Grid Margin="10,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- FPS Counter -->
                <StackPanel Grid.Column="0" Orientation="Horizontal">
                    <TextBlock Text="FPS: " Foreground="#AAA" VerticalAlignment="Center" FontSize="12"/>
                    <TextBlock x:Name="FpsText" Text="0" Foreground="#4EC9B0" VerticalAlignment="Center" FontSize="12" FontWeight="Bold"/>
                </StackPanel>

                <!-- Resolution -->
                <StackPanel Grid.Column="2" Orientation="Horizontal" Margin="20,0">
                    <TextBlock Text="Resolution: " Foreground="#AAA" VerticalAlignment="Center" FontSize="12"/>
                    <TextBlock x:Name="ResolutionText" Text="N/A" Foreground="#4EC9B0" VerticalAlignment="Center" FontSize="12" FontWeight="Bold"/>
                </StackPanel>

                <!-- Status Indicator -->
                <StackPanel Grid.Column="3" Orientation="Horizontal">
                    <Ellipse x:Name="StatusIndicator" Width="10" Height="10" Fill="#4EC9B0" Margin="0,0,5,0"/>
                    <TextBlock x:Name="StatusText" Text="Streaming" Foreground="#4EC9B0" VerticalAlignment="Center" FontSize="12"/>
                </StackPanel>
            </Grid>
        </Border>
    </Grid>
</Window>
